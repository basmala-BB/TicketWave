@model TicketWave.Models.MovieVM

<div class="container">
    <h2 class="mb-4">Create New Movie</h2>

    @* عرض التنبيهات *@
    @if (TempData["Error"] != null)
    {
        <div class="alert alert-danger">@TempData["Error"]</div>
    }
    @if (TempData["Notification"] != null)
    {
        <div class="alert alert-success">@TempData["Notification"]</div>
    }

    <form asp-action="Create" asp-controller="Movie" asp-area="Admin" method="post" enctype="multipart/form-data">

        <!-- Movie Name -->
        <div class="mb-3">
            <label class="form-label">Movie Name</label>
            <input asp-for="Movie.Name" class="form-control" placeholder="Enter movie name" required />
            <span class="text-danger" asp-validation-for="Movie.Name"></span>
        </div>

        <!-- Main Image -->
        <div class="mb-3">
            <label class="form-label">Main Image</label>
            <input type="file" name="Img" accept="images/*" class="form-control" required />
        </div>

        <!-- Sub Images -->
        <div class="mb-3">
            <label class="form-label">Sub Images</label>
            <input type="file" name="SubImgs" accept="images/*" multiple class="form-control" />
        </div>

        <!-- Description -->
        <div class="mb-3">
            <label class="form-label">Description</label>
            <textarea asp-for="Movie.Description" class="form-control" style="height: 100px"></textarea>
            <span class="text-danger" asp-validation-for="Movie.Description"></span>
        </div>

        <!-- Price -->
        <div class="mb-3">
            <label class="form-label">Price</label>
            <input asp-for="Movie.price" type="number" step="0.01" class="form-control" placeholder="Enter ticket price" />
            <span class="text-danger" asp-validation-for="Movie.price"></span>
        </div>

        <!-- Release Date -->
        <div class="mb-3">
            <label class="form-label">Release Date</label>
            <input asp-for="Movie.DateTime" type="datetime-local" class="form-control" />
        </div>

        <!-- Category -->
        <div class="mb-3">
            <label class="form-label">Category</label>
            <select asp-for="Movie.CategoryId" class="form-select">
                @foreach (var cat in Model.categories)
                {
                    <option value="@cat.Id">@cat.Name</option>
                }
            </select>
        </div>

        <!-- Cinema -->
        <div class="mb-3">
            <label class="form-label">Cinema</label>
            <select asp-for="Movie.CinemaId" class="form-select">
                @foreach (var cin in Model.cinemas)
                {
                    <option value="@cin.Id">@cin.Name</option>
                }
            </select>
        </div>

        <!-- Actors -->
        <div class="mb-3">
            <label class="form-label">Actors</label>
            <select asp-for="ActorsIds" multiple class="form-select">
                @foreach (var actor in Model.actors)
                {
                    <option value="@actor.Id">@actor.Name</option>
                }
            </select>
            <small class="text-muted">Hold Ctrl (or Cmd on Mac) to select multiple actors</small>
        </div>

        <!-- Status -->
        <div class="mb-3">
            <label class="form-label">Status</label>
            <select asp-for="Movie.status" class="form-select">
                <option value="true" selected>Active</option>
                <option value="false">Inactive</option>
            </select>
        </div>

        <button type="submit" class="btn btn-primary">Create Movie</button>
    </form>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
@if (TempData["Error"] != null)
{
    <div class="alert alert-danger mt-3">
        @TempData["Error"]
    </div>
}

